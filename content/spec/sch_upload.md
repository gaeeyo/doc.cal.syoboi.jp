---
title: sch_upload
---

# sch_upload

## sch\_upload について

- 録画予定をアップロードするときに使います
- BASIC認証が必要

## URL

- cal.syoboi.jp/sch\_upload

## パラメータ一覧

- data
    - 録画予定を記述したtsvデータ
- slot
    - 0～3の値
- devcolors
    - デバイス名と色の設定
- epgurl
    - iEPGへのリンクの代わりに利用するURL

## パラメータの詳細

### data

dataは以下の要素をタブ区切りで記述します。各要素にはタブ文字を含むことはできません。
- 開始時間
- 終了時間
- デバイス名
    - デバイス名に ":" が含まれる場合、":" 以降の文字だけが表示されます
    - ("MAIN:T1"の場合"T1"だけが表示される)
- 番組名
- 放送局名
- サブタイトル
- オフセット
- XID

最大200行。

#### サンプル

```
1269732600 1269734400 Tuner1 ハートキャッチプリキュア! テレビ朝日 未定 0 0
1269732600 1269734400 Tuner2 メタルファイト　ベイブレード「ブレーダーの心(たましい)」 テレビ東京 未定 0 0
```

### slot

0～3の数値を指定します。
複数のPCから別々のデータをアップロードしたり、複数のソフトのデータをアップロードする場合、それぞれが違う数値になるようにします。

### devcolors

デバイス名と色の設定。
「{デバイス名}=#RRGGBB」または「#RRGGBB」の形式で記述し、タブ区切りで複数指定。

```
MAINPC:T1=#0000ff T1=#ff0000 #555555
```

### epgurl

リンク先のURLを指定します。

```
http://example.com/reserve?id={XID}
```

## 注意

- 64KBを超えるデータは登録できません (2021/2/6追記)
- スクリプトを修正した場合、おかしなデータが登録されないか確認してください
- しょぼいカレンダーのチャンネル名との対応付けは以下のページで設定されています
    - http://cal.syoboi.jp/chmap
    - ここにおかしなチャンネル名が登録されている場合、送信しているデータがおかしいかもしれません
